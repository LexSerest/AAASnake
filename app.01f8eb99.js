parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"FLWp":[function(require,module,exports) {

},{"./pixel.otf":[["pixel.f9b73068.otf","B68O"],"B68O"]}],"Xx+D":[function(require,module,exports) {
"use strict";function t(o){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(o)}Object.defineProperty(exports,"__esModule",{value:!0});var o=document.querySelector.bind(document);exports.$=o;var e=document.querySelectorAll.bind(document);exports.$$=e,Object.copy=function(o){var e={};return Object.keys(o).forEach(function(r){var n=o[r];"object"!=t(n)||n instanceof Array||(n=Object.copy(n)),n instanceof Array&&(n=n.slice(0)),e[r]=n}),e},Array.prototype.clone=function(){return this.slice(0)},Array.prototype.sample=function(t){void 0===t&&(t=1);for(var o=[];t--&&this.length;){var e=Math.random()*this.length>>0;o.push(this.splice(e,1)[0])}return o};
},{}],"QLOl":[function(require,module,exports) {
"use strict";var e,t;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.Up=0]="Up",e[e.Right=1]="Right",e[e.Down=2]="Down",e[e.Left=3]="Left"}(e=exports.Direction||(exports.Direction={})),function(e){e[e.Up=38]="Up",e[e.Right=37]="Right",e[e.Left=39]="Left",e[e.Down=40]="Down",e[e.Space=32]="Space",e[e.Return=13]="Return"}(t=exports.Keys||(exports.Keys={}));
},{}],"jdFv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("../helpers/enum");!function(e){function t(t,i){var u=null,o=null;t.addEventListener("touchstart",function(n){e.swipeEnabled&&(u=n.touches[0].clientX,o=n.touches[0].clientY)},!1),t.addEventListener("touchmove",function(e){if(u&&o){var t=e.touches[0].clientX,s=e.touches[0].clientY,c=u-t,r=o-s;Math.abs(c)>Math.abs(r)?i(c>0?n.Keys.Right:n.Keys.Left):i(r>0?n.Keys.Up:n.Keys.Down),u=null,o=null}},!1)}function i(e,t){var i=0;e.addEventListener("touchend",function(e){var u=(new Date).getTime(),o=u-i;o<300&&o>0&&(e.preventDefault(),t(n.Keys.Space)),i=u})}e.swipeEnabled=!0,e.swipebind=t,e.doubletap=i,e.setSwipe=function(n){void 0===n&&(n=!0),e.swipeEnabled=n},e.init_keyboard=function(e,n){e.addEventListener("keydown",function(e){return n(e.keyCode)}),t(e,function(e){return n(e)})},e.init_doubletap=function(e,n){i(e,function(e){return n(e)})}}(e||(e={})),exports.default=e;
},{"../helpers/enum":"QLOl"}],"z85c":[function(require,module,exports) {
"use strict";var o,e;Object.defineProperty(exports,"__esModule",{value:!0}),function(o){o.blockSize=15,o.border=3,o.defaultSizeMap=20,o.color_border="#343D46",o.color_background="#A7ADBA",o.color_snake="#4F5B66",o.color_snake_head="#47515a",o.color_food="#28b528",o.colors_food=["#b52828","#b5289d","#5828b5","#288eb5","#28b594","#b5b128","#ea9a9a","#ea9ae4","#337341","#9aeaab","#c4ea9a","#ead59a","#FFFFFF","#0e0086","#860038"]}(o=exports.DefaultVars||(exports.DefaultVars={})),function(e){e.blockSize=o.blockSize,e.border=o.border,e.defaultSizeMap=o.defaultSizeMap,e.color_border=o.color_border,e.color_background=o.color_background,e.color_snake=o.color_snake,e.color_snake_head=o.color_snake_head,e.color_food=o.color_food,e.colors_food=o.colors_food.slice(0),e.set_default=function(){Object.keys(o).forEach(function(r){return e[r]=o[r]}),e.colors_food=o.colors_food.slice(0)}}(e=exports.Vars||(exports.Vars={}));
},{}],"G7Yx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("../helpers/helpers"),i=require("../vars");!function(e){function a(t,i,a,o,r){void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=e.canvas.width),void 0===r&&(r=e.canvas.height),e.context.beginPath(),e.context.fillStyle=t,e.context.fillRect(i,a,o,r),e.context.restore()}function o(){a(i.Vars.color_border),a(i.Vars.color_background,i.Vars.border*e.pixelRatio,i.Vars.border*e.pixelRatio,e.canvas.width-2*i.Vars.border*e.pixelRatio,e.canvas.height-2*i.Vars.border*e.pixelRatio)}e.pixelRatio=Math.round(window.devicePixelRatio),e.init=function(a){e.canvas=t.$(a),e.canvas.width=(i.Vars.defaultSizeMap*i.Vars.blockSize+2*i.Vars.border)*e.pixelRatio,e.canvas.height=e.canvas.width,e.canvas.style.width=e.canvas.width/e.pixelRatio+"px",e.canvas.style.height=e.canvas.height/e.pixelRatio+"px",e.context=e.canvas.getContext("2d"),e.context.imageSmoothingEnabled=!1,o()},e.fill=a,e.first=o,e.drawBox=function(t,a,o){void 0===o&&(o="#000"),e.context.beginPath(),e.context.fillStyle=o,e.context.fillRect((i.Vars.border+t*i.Vars.blockSize)*e.pixelRatio,(i.Vars.border+a*i.Vars.blockSize)*e.pixelRatio,i.Vars.blockSize*e.pixelRatio,i.Vars.blockSize*e.pixelRatio),e.context.restore()}}(e||(e={})),exports.default=e;
},{"../helpers/helpers":"Xx+D","../vars":"z85c"}],"r7Ed":[function(require,module,exports) {
"use strict";var o=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("../vars"),r=o(require("./canvas")),n=o(require("./player")),a=o(require("./snake")),f=o(require("./gui")),d=o(require("../foods/index"));!function(o){o.foods=[],o.foods_type={},o.iteration=0,o._iterationArr=[];function e(){var o=Math.random()*t.Vars.colors_food.length>>0;return t.Vars.colors_food.splice(o,1)[0]}function i(o){(o||d.default).forEach(function(o){return u(o)})}function u(t){(t=Object.copy(t)).color||(t.color=e()),t.repeatability||(t.repeatability=1),o.foods_type[t.name]=t}function s(e){var n=o.foods_type[e.name];e.timeout>0&&e.timeout--,0==e.timeout&&(l(e),n.remove_func&&n.remove_func(),r.default.drawBox(e.x,e.y,t.Vars.color_background))}function l(e){o.foods=o.foods.filter(function(o){return o.x!=e.x||o.y!=e.y}),a.default.snake()}function c(e){o.foods_type[e].isDisable=!0}function _(){var e=Math.random()*t.Vars.defaultSizeMap>>0,r=Math.random()*t.Vars.defaultSizeMap>>0;if(n.default.pos.x==e&&n.default.pos.y==r)return _();for(var a=0;a<o.foods.length;a++)if(o.foods[a].x==e&&o.foods[a].y==r)return _();for(a=0;a<n.default.tail.length;a++)if(n.default.tail[a].x==e&&n.default.tail[a].y==r)return _();return{x:e,y:r}}function m(e,r){void 0===r&&(r=null);var n=o.foods_type[e];if(!n||n.isDisable)return console.log("Food not exist/food disable",e);var a=n.repeatability,f=n.timeout||-1;if((!n.add_func||n.add_func())&&(n.add_func||1==a||!(Math.random()>a))){if(n.pseudo&&n.pseudo.length){var d=n.pseudo[Math.random()*n.pseudo.length>>0];n.color=o.foods_type[d].color,console.log("set color",n.color)}if(n.rndColor){var i=Math.random()*t.Vars.colors_food.length>>0;n.color=t.Vars.colors_food.slice(i,i+1)[0],console.log("set color",n.color)}return r=r||_(),o.foods.unshift({x:r.x,y:r.y,name:e,timeout:f}),!0}}function p(e){return o.foods_type[e].color}o.init=function(){o.foods=[],o.foods_type={},o.iteration=0,o._iterationArr=[],i()},o.rndColor=e,o.rndColorReset=function(){return t.Vars.colors_food=t.DefaultVars.colors_food.slice(0),!0},o.draw=function(){for(var e=0;e<o.foods.length;e++){var t=o.foods[e];r.default.drawBox(t.x,t.y,p(t.name))}},o.clear=function(){o.foods=[]},o.foods_init=i,o.food_init=u,o.tick=s,o.eat_event=function(){for(var e=n.default.pos,t=function(t){var r=o.foods[t],n=o.foods_type[r.name];r.x==e.x&&r.y==e.y&&(n.show_msg&&f.default.addMessage(n.text),n.isNotEat||l(r),n.func&&n.func(r),n.isOne&&c(r.name),n.disable_time&&f.default.addTimer(n.color,n.disable_time,function(){return n.disabled()}),f.default.legendOpen(n.name,n.color)),s(r)},r=0;r<o.foods.length;r++)t(r);f.default.reduceTimerAll()},o.remove_food=function(e){o.foods=o.foods.filter(function(o){return o.name!==e}),a.default.snake()},o.remove_food_type=l,o.disable_food=c,o.enable_food=function(e){o.foods_type[e].isDisable=!1},o.rndPos=_,o.addFood=m,o.addFoodSmart=function(e){o._iterationArr.length||(o._iterationArr=e,o.iteration++),o._iterationArr.sample(3*Math.random()>>0).forEach(function(o){return m(o)})},o.addFoodDev=function(e,t){return void 0===t&&(t=null),t=t||_(),o.foods.unshift({x:t.x,y:t.y,name:e,timeout:-1}),!0},o.rndFoods=function(){Object.keys(o.foods_type).forEach(function(o){return m(o)})},o.get_color=p}(e||(e={})),exports.default=e;
},{"../vars":"z85c","./canvas":"G7Yx","./player":"1iBH","./snake":"7su0","./gui":"4Ipp","../foods/index":"BAzW"}],"Uf9+":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var d=e(require("../libs/snakeFood")),o=require("../vars"),t=e(require("../libs/player"));exports.default={name:"eat",text:"Food",color:o.Vars.color_food,repeatability:1,func:function(){t.default.inc(),t.default.addScore(),d.default.addFood("eat"),setTimeout(function(e){return d.default.addFood("feces",t.default.pos)},100),d.default.addFoodSmart(["border_off","speed_reduce","size_reduce","speed_add","size_add","score_x2","lessen","score_1000","splitfood","clean","reset"])}};
},{"../libs/snakeFood":"r7Ed","../vars":"z85c","../libs/player":"1iBH"}],"BtIA":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../vars"),t=e(require("../libs/snake"));exports.default={name:"feces",text:"Feces",isNotEat:!0,color:r.Vars.color_border,repeatability:.9,func:function(){return t.default.end()}};
},{"../vars":"z85c","../libs/snake":"7su0"}],"WaW/":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../libs/snakeFood")),r=e(require("../libs/player"));exports.default={name:"clean",text:"Clean",show_msg:!0,repeatability:1,timeout:30,func:function(){r.default.inc(),t.default.remove_food("feces")}};
},{"../libs/snakeFood":"r7Ed","../libs/player":"1iBH"}],"f9Bg":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../vars"),t=e(require("../libs/player"));exports.default={name:"border_off",text:"Border off",show_msg:!0,repeatability:1,timeout:30,disable_time:180,disabled:function(){t.default.isWall=!0,r.Vars.color_border=r.DefaultVars.color_border},func:function(){t.default.inc(),t.default.isWall=!1,r.Vars.color_border="#C0C5CE"}};
},{"../vars":"z85c","../libs/player":"1iBH"}],"LdqT":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../libs/player"));exports.default={name:"lessen",text:"Score /2",show_msg:!0,repeatability:.8,timeout:30,color:"#000",func:function(){t.default.addScore(-t.default.getScore()/2>>0),t.default.inc()}};
},{"../libs/player":"1iBH"}],"6St8":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../libs/snakeFood")),u=e(require("../libs/gui")),r=e(require("../libs/player"));exports.default={name:"reset",text:"Reset",repeatability:.5,show_msg:!0,timeout:30,func:function(){r.default.inc(),t.default.rndColorReset(),t.default.foods_init(),Object.keys(u.default._timers).forEach(function(e){return u.default._timers[e].func()}),u.default._timers={},u.default.clearTimer(),t.default.foods=t.default.foods.filter(function(e){return"feces"==e.name}),t.default.addFood("eat"),setTimeout(function(e){return u.default.legengReset()},100)}};
},{"../libs/snakeFood":"r7Ed","../libs/gui":"4Ipp","../libs/player":"1iBH"}],"xlvm":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../libs/player"));exports.default={name:"score_1000",text:"Score +1000",show_msg:!0,repeatability:1,timeout:30,func:function(){t.default.inc(),t.default.addScore(1e3)}};
},{"../libs/player":"1iBH"}],"s82Z":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../libs/player"));exports.default={name:"score_x2",text:"Score x2",repeatability:.8,show_msg:!0,timeout:30,color:"#000",func:function(){t.default.inc(),t.default.addScore(t.default.getScore())}};
},{"../libs/player":"1iBH"}],"h9iK":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../libs/player"));exports.default={name:"size_add",text:"Add size",show_msg:!0,repeatability:1,timeout:30,func:function(){t.default.size+=5}};
},{"../libs/player":"1iBH"}],"zUHw":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../libs/player"));exports.default={name:"size_reduce",text:"Reduce size",show_msg:!0,repeatability:1,timeout:30,func:function(){t.default.size-=5,t.default.size<4&&(t.default.size=4)}};
},{"../libs/player":"1iBH"}],"3hhb":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../libs/player"));exports.default={name:"speed_add",text:"Add speed",show_msg:!0,repeatability:1,timeout:30,func:function(){t.default.speed+=10}};
},{"../libs/player":"1iBH"}],"odc7":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../libs/player"));exports.default={name:"speed_reduce",text:"Reduce speed",show_msg:!0,repeatability:1,timeout:30,func:function(){t.default.speed-=10,t.default.speed<0&&(t.default.speed=0)}};
},{"../libs/player":"1iBH"}],"yxhX":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../libs/snakeFood")),o=e(require("../libs/player"));exports.default={name:"splitfood",text:"Split food",show_msg:!0,repeatability:1,timeout:30,func:function(){o.default.inc(),t.default.addFood("eat")}};
},{"../libs/snakeFood":"r7Ed","../libs/player":"1iBH"}],"BAzW":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./food")),u=e(require("./feces")),d=e(require("./clean")),t=e(require("./border_off")),f=e(require("./lessen")),a=e(require("./reset")),i=e(require("./score_1000")),l=e(require("./score_x2")),s=e(require("./size_add")),o=e(require("./size_reduce")),q=e(require("./speed_add")),_=e(require("./speed_reduce")),c=e(require("./splitfood")),p=[r.default,u.default,f.default,l.default,i.default,a.default,d.default,t.default,s.default,o.default,q.default,_.default,c.default];exports.default=p;
},{"./food":"Uf9+","./feces":"BtIA","./clean":"WaW/","./border_off":"f9Bg","./lessen":"LdqT","./reset":"6St8","./score_1000":"xlvm","./score_x2":"s82Z","./size_add":"h9iK","./size_reduce":"zUHw","./speed_add":"3hhb","./speed_reduce":"odc7","./splitfood":"yxhX"}],"4Ipp":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t,n=require("../helpers/helpers"),r=e(require("./keyboard")),o=e(require("./player")),a=e(require("./snake")),i=e(require("../foods/index")),s=e(require("./snakeFood"));!function(e){function t(t){var n=e._timers[t],r=--n.keep/n.duration*100>>0;n.element.style.width=r.toString()+"%",n.keep<=0&&(n.element.remove(),n.func(),delete e._timers[t])}e.timers=n.$("#timers"),e._timers={},e.ingame=0,e.init=function(){e._timers={}},setInterval(function(t){!a.default.isPause&&a.default.isStart&&e.ingame++},1e3),e.addTimer=function(t,n,r){e._timers[t]&&e._timers[t].element.remove();var o=document.createElement("div");o.setAttribute("class","timer"),o.style.background=t,o.style.width="100%",e.timers.append(o),e._timers[t]={element:o,duration:n,func:r,keep:n}},e.reduceTimer=t,e.reduceTimerAll=function(){Object.keys(e._timers).forEach(function(e){return t(e)})},e.clearTimer=function(){e.timers.innerHTML=""},e.legendInit=function(){n.$(".legends").innerHTML="",i.default.forEach(function(e){var t=document.createElement("div"),r=document.createElement("div"),o=document.createElement("span");r.classList.add("eat"),e.pseudo?r.classList.add("pseudo"):e.color?r.style.background=e.color:(r.classList.value="eat notopens notopen",r.setAttribute("data-name",e.name)),o.innerText=e.text,t.append(r),t.append(o),n.$(".legends").append(t)})},e.legendOpen=function(e,t){var r=n.$('.notopen.notopens[data-name="'+e+'"]');r&&(s.default.foods_type[e].rndColor||(r.classList.remove("notopen"),r.style.background=t))},e.legengReset=function(){n.$$(".notopens").forEach(function(e){e.classList.add("notopen"),e.style.background="transparent"})},e.window_open=function(e){n.$("#windows").setAttribute("data-show",e)},e.updateScore=function(){n.$$(".score span").forEach(function(e){return e.innerHTML=o.default.getScore()})},e.updateTime=function(){var t=e.ingame/60%60>>0,r=e.ingame/60/60>>0,o=(r?r+"h":"")+(t?t+"m":"")+e.ingame%60+"s";n.$$(".ingame span").forEach(function(e){return e.innerHTML=o})},e.bestShow=function(){n.$$(".best span").forEach(function(e){return e.innerHTML=+localStorage.getItem("best")||0})},e.updateBest=function(){(+localStorage.getItem("best")||0)<o.default.getScore()&&(localStorage.setItem("best",o.default.getScore().toString()),n.$$(".best span").forEach(function(e){return e.innerHTML=o.default.getScore()}))},e.resetBest=function(){localStorage.setItem("best","0"),n.$$(".best span").forEach(function(e){return e.innerHTML="0"})},e.swipeToggle=function(e){void 0===e&&(e=void 0);var t=void 0===e;t&&(e="swipe"==n.$("#mobile").getAttribute("data-type")),r.default.setSwipe(!e),t&&localStorage.setItem("swipemode",(+e).toString()),n.$("#mobile").setAttribute("data-type",e?"buttons":"swipe")},e.addMessage=function(e){var t=document.createElement("div");t.classList.add("message"),t.classList.add("show"),t.innerText=e,n.$(".messages").append(t),setTimeout(function(e){return t.remove()},2e3)}}(t||(t={})),exports.default=t;
},{"../helpers/helpers":"Xx+D","./keyboard":"jdFv","./player":"1iBH","./snake":"7su0","../foods/index":"BAzW","./snakeFood":"r7Ed"}],"1iBH":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o,r=require("../vars"),a=e(require("./canvas")),i=e(require("./gui")),s=require("../helpers/enum");!function(e){e.size=4,e.pos={x:1,y:3},e.tail=[],e.speed=0,e.direction=s.Direction.Down,e.isWall=!0,e.score=0,e.color_snake=r.Vars.color_snake,e.color_snake_head=r.Vars.color_snake_head,e.set_default=function(){e.size=3,e.pos={x:1,y:3},e.tail=[],e.speed=0,e.direction=s.Direction.Down,e.isWall=!0,e.score=0},e.inc=function(){e.speed++,e.size++},e.setDirection=function(o){e.direction=o},e.setPos=function(o){e.pos=o},e.draw=function(){for(var o=0;o<e.tail.length;o++){var i=e.tail[o];a.default.drawBox(i.x,i.y,r.Vars.color_snake)}if(e.tail.length>e.size){var s=e.tail.pop(),t=s.x,n=s.y;a.default.drawBox(t,n,r.Vars.color_background)}a.default.drawBox(e.pos.x,e.pos.y,r.Vars.color_snake_head)},e.collision=function(){for(var o=!0,a=0;a<e.tail.length;a++){var i=e.tail[a];a&&a!=e.tail.length-1&&i.x==e.pos.x&&i.y==e.pos.y&&(o=!1)}return e.isWall&&(e.pos.y<0||e.pos.x<0||e.pos.y>r.Vars.defaultSizeMap-1||e.pos.x>r.Vars.defaultSizeMap-1)&&(o=!1),o},e.getScore=function(){return e.score},e.addScore=function(o){void 0===o&&(o=0),o||(o=(e.size+e.speed)/2>>0),e.score+=o,i.default.updateScore()}}(o||(o={})),exports.default=o;
},{"../vars":"z85c","./canvas":"G7Yx","./gui":"4Ipp","../helpers/enum":"QLOl"}],"7su0":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t,i=require("../helpers/helpers"),a=e(require("./keyboard")),s=e(require("./player")),n=require("../vars"),u=e(require("./canvas")),r=e(require("./gui")),o=e(require("./snakeFood")),d=require("../helpers/enum");!function(e){function t(e){if(d.Keys.Up==e&&s.default.direction==d.Direction.Down||d.Keys.Down==e&&s.default.direction==d.Direction.Up||d.Keys.Left==e&&s.default.direction==d.Direction.Right||d.Keys.Right==e&&s.default.direction==d.Direction.Left||d.Keys.Up==e&&s.default.direction==d.Direction.Up||d.Keys.Down==e&&s.default.direction==d.Direction.Down||d.Keys.Left==e&&s.default.direction==d.Direction.Right||d.Keys.Right==e&&s.default.direction==d.Direction.Left)return!0}function l(t){if(d.Keys.Return==t&&K(),d.Keys.Space==t&&p(),(d.Keys.Up==t||d.Keys.Down==t||d.Keys.Left==t||d.Keys.Right==t)&&e.isStart&&!e.isPause){var i=e._lastKeysPress[e._lastKeysPress.length-1]||s.default.direction;i==t||d.Keys.Up==t&&i==d.Direction.Down||d.Keys.Down==t&&i==d.Direction.Up||d.Keys.Left==t&&i==d.Direction.Right||d.Keys.Right==t&&i==d.Direction.Left||d.Keys.Up==t&&i==d.Direction.Up||d.Keys.Down==t&&i==d.Direction.Down||d.Keys.Left==t&&i==d.Direction.Left||d.Keys.Right==t&&i==d.Direction.Right||e._lastKeysPress.length<3&&e._lastKeysPress.push(t)}}function f(e){t(e)||(s.default.direction=d.Direction[d.Keys[e]])}function c(){clearTimeout(e._timer),e._timer=setTimeout(function(){var t=e._lastKeysPress.shift();t&&f(t),e.isStart&&(h(),c())},300-2*s.default.speed)}function p(){e.isStart&&(r.default.window_open("hide"),e.isPause?c():clearTimeout(e._timer),e.isPause=!e.isPause,e.isStart&&(e.isPause?r.default.window_open("pause"):r.default.window_open("hide")))}function y(){u.default.first(),s.default.draw(),o.default.draw()}function D(){e.isStart=!1,e.onEnd&&e.onEnd(),r.default.updateTime(),r.default.window_open("endgame"),r.default.clearTimer(),r.default.updateBest()}function K(){e.onPause&&e.isPause&&(e.isPause=!1,e.onPause(!1)),n.Vars.set_default(),s.default.set_default(),r.default.init(),o.default.init(),u.default.first(),e.isStart=!0,o.default.clear(),o.default.addFood("eat"),c(),r.default.window_open("hide"),r.default.updateScore(),r.default.legengReset(),r.default.clearTimer()}function h(){switch(s.default.tail.unshift({x:s.default.pos.x,y:s.default.pos.y}),s.default.direction){case d.Direction.Up:s.default.pos.y--;break;case d.Direction.Right:s.default.pos.x--;break;case d.Direction.Down:s.default.pos.y++;break;case d.Direction.Left:s.default.pos.x++}if(s.default.isWall||(s.default.pos.y<0&&(s.default.pos.y=n.Vars.defaultSizeMap-1),s.default.pos.x<0&&(s.default.pos.x=n.Vars.defaultSizeMap-1),s.default.pos.y>n.Vars.defaultSizeMap-1&&(s.default.pos.y=0),s.default.pos.x>n.Vars.defaultSizeMap-1&&(s.default.pos.x=0)),!e.isStart||!s.default.collision())return D();o.default.eat_event(),e.isStart||(s.default.pos=s.default.tail.shift()),y()}e.isStart=!1,e.isPause=!1,e.isLockKeyboard=!1,e.onStart=null,e.onEnd=null,e.onEat=null,e.onPause=null,e._timer=null,e._lastKeysPress=[],e.testDirection=t,e.keyboardEvent=l,e.init=function(e){u.default.init(e),r.default.bestShow(),r.default.legendInit(),a.default.init_keyboard(i.$("body"),function(e){return l(e)}),a.default.init_doubletap(i.$("canvas"),function(e){return l(e)})},e.changeDirection=f,e.run=c,e.pause=p,e.snake=y,e.end=D,e.start=K,e.move=h}(t||(t={})),exports.default=t;
},{"../helpers/helpers":"Xx+D","./keyboard":"jdFv","./player":"1iBH","../vars":"z85c","./canvas":"G7Yx","./gui":"4Ipp","./snakeFood":"r7Ed","../helpers/enum":"QLOl"}],"ACMl":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./libs/snake")),n=e(require("./libs/gui")),u=require("./helpers/enum"),i=require("./helpers/helpers");setTimeout(function(e){var t=i.$("script").src.split("app.")[1].slice(0,-3);i.$("#rev").innerText=t},1e3),window.Game={start:function(){n.default.window_open("hide"),t.default.start()},unpause:function(){t.default.isPause&&t.default.pause()},pauseToggle:function(){t.default.pause()},setting:function(){n.default.window_open("setting")},main:function(){n.default.window_open("start")},swipeToggle:function(){n.default.swipeToggle()},button_up:function(){t.default.keyboardEvent(u.Keys.Up)},button_left:function(){t.default.keyboardEvent(u.Keys.Right)},button_down:function(){t.default.keyboardEvent(u.Keys.Down)},button_right:function(){t.default.keyboardEvent(u.Keys.Left)},clearScore:function(){n.default.resetBest()}},n.default.swipeToggle(+localStorage.getItem("swipemode")||0),t.default.init("#snake");
},{"./libs/snake":"7su0","./libs/gui":"4Ipp","./helpers/enum":"QLOl","./helpers/helpers":"Xx+D"}],"St5T":[function(require,module,exports) {
"use strict";var e=i(require("./game/libs/snake")),t=i(require("./game/libs/player"));function i(e){return e&&e.__esModule?e:{default:e}}var n="https://snake.lexserest.pw/set/",a=window.location.href,r="";function s(e){var t=document.createElement("script");t.setAttribute("src",e),document.head.appendChild(t)}if(a.split("?").length>1&&(r=window.location.href.split("?")[1].split("=")[1]),r){try{history.replaceState({},"main",window.location.pathname)}catch(l){}e.default.onEnd=function(){var e=t.default.score,i=e.toString(16)+"j"+r.slice(0,10)+((e-1)%9+1)+r.slice(10);e&&s(n+i)}}
},{"./game/libs/snake":"7su0","./game/libs/player":"1iBH"}],"A2T1":[function(require,module,exports) {
"use strict";require("./static/style.scss"),require("./game/main");try{require("./tg-integration")}catch(e){}
},{"./static/style.scss":"FLWp","./game/main":"ACMl","./tg-integration":"St5T"}]},{},["A2T1"], null)
//# sourceMappingURL=app.01f8eb99.js.map